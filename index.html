<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»Šå¤©åƒä»€ä¹ˆï¼Ÿ - å¦é—¨ç¾é£Ÿå¤§è½¬ç›˜</title>
    <style>
        /* å…¨å±€æ ·å¼ */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
        }

        /* è‰ºæœ¯å­—ä½“èƒŒæ™¯å®¹å™¨ */
        #bg-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            opacity: 0.4; /* èƒŒæ™¯æ·¡ä¸€ç‚¹ï¼Œä¸è¦æŠ¢æˆ */
        }

        .art-text {
            position: absolute;
            white-space: nowrap;
            user-select: none;
            font-weight: bold;
            filter: blur(1px);
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }

        /* ä¸»ç•Œé¢å®¹å™¨ */
        .container {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        h1 {
            font-size: 3rem;
            color: #333;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 10px 30px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* è½¬ç›˜å¤–å£³ */
        .wheel-wrapper {
            position: relative;
            width: 500px;
            height: 500px;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            border: 10px solid #fff;
            background: #fff;
        }

        /* è½¬ç›˜Canvas */
        #wheelCanvas {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            transition: transform 4s cubic-bezier(0.25, 0.1, 0.25, 1); /* ç¼“åŠ¨åŠ¨ç”» */
        }

        /* æŒ‡é’ˆ */
        .pointer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: #ff4757;
            border-radius: 50%;
            border: 4px solid #fff;
            z-index: 20;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-weight: bold;
            font-size: 16px;
        }

        .pointer::before {
            content: '';
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 0 15px 30px 15px;
            border-style: solid;
            border-color: transparent transparent #ff4757 transparent;
        }

        /* ç»“æœå¼¹çª— */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: #fff;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: popIn 0.3s ease-out;
            max-width: 80%;
        }

        .winner-text {
            font-size: 2.5rem;
            color: #ff4757;
            font-weight: bold;
            margin: 20px 0;
        }

        .close-btn {
            padding: 10px 30px;
            background: #2ed573;
            color: #fff;
            border: none;
            border-radius: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .close-btn:hover {
            background: #26af61;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* é€‚é…å°å±å¹• */
        @media (max-width: 600px) {
            .wheel-wrapper {
                width: 350px;
                height: 350px;
            }
            h1 { font-size: 2rem; }
        }
    </style>
</head>
<body>

    <!-- åŠ¨æ€è‰ºæœ¯å­—èƒŒæ™¯ -->
    <div id="bg-container"></div>

    <!-- ä¸»ä½“å†…å®¹ -->
    <div class="container">
        <h1>ä»Šå¤©åƒä»€ä¹ˆï¼Ÿ</h1>
        <div class="wheel-wrapper">
            <canvas id="wheelCanvas" width="1000" height="1000"></canvas>
            <div class="pointer" onclick="startSpin()">GO</div>
        </div>
    </div>

    <!-- ç»“æœå¼¹çª— -->
    <div class="modal" id="resultModal">
        <div class="modal-content">
            <h2>ğŸ‰ å‘½ä¸­æ³¨å®šå»åƒ ğŸ‰</h2>
            <div class="winner-text" id="winnerText"></div>
            <button class="close-btn" onclick="closeModal()">å¥½çš„ï¼Œè¿™å°±å»ï¼</button>
        </div>
    </div>

    <script>
        // 1. æ•°æ®åˆ—è¡¨
        const list = [
            "å»¶è¾¹åŒé—¨æ´Â·ç‚­ç«çƒ¤è‚‰", "ç¾”ç¾Šåœ°å¸¦", "ç›Ÿé‡çƒ§çƒ¤", "éœ¸è…¹çƒ¤è‚‰", "èå§ç«é”…", 
            "è€é—¨æ¡†å››å­£çˆ†è‚šæ¶®è‚‰", "å´ç¾ä¸½è´µå·é…¸æ±¤ç«é”…", "å…«åˆé‡Œæ½®æ±•ç‰›è‚‰ç«é”…", "202ç‰¹è‰²æ’æŒ¡", "é—½å’Œå—",
            "å°åŸ•æˆÂ·æµæ°´å¸­", "å¥½å£å‘³ç…èŸ¹é¦†", "é’Ÿæ„ç‰›æ‰’", "Ay Manuelaè¥¿ç­ç‰™é¤å…", "é™é¦™House",
            "æ¬§ç™»åå¾·å›½é¤å…", "HZ pizza", "Paradisoçª‘çƒ¤æŠ«è¨", "THAI1949è¥¿æ³°æ–™ç†", "Home Thaiæ³°è°£",
            "éŸ©æ­£è‹‘", "æŸÂ·å±…é…’å±‹", "ç”ºç¦¾", "ä¸Šè†³", "èƒ–è¾¾çš„å·èœé¦†",
            "é»„é¹¤å¤©å¨ï¼ˆè²èŠ±åº—ï¼‰", "å‚²å®¢å¤œå¨", "ä¹ä»™æ¹–ç±³ç²‰å°ç‚’", "æ½®ç¦åŸ", "å¯Œæ‚¦è½©",
            "æ³°è’²", "æœ±å¯Œè´µ", "ç‹å‘†å‘†", "è€æ¹˜äº²", "å‡¯å®¾æ–¯åŸºè‡ªåŠ©"
        ];

        // 2. é¢œè‰²é…ç½® (äº¤æ›¿é¢œè‰²)
        const colors = ['#FF6B6B', '#FFD93D', '#6BCB77', '#4D96FF', '#F78FB3', '#CF6A87', '#546DE5', '#E15F41'];

        // 3. åˆå§‹åŒ–è½¬ç›˜
        const canvas = document.getElementById('wheelCanvas');
        const ctx = canvas.getContext('2d');
        const num = list.length;
        const arc = 2 * Math.PI / num; // æ¯ä¸ªæ‰‡å½¢çš„è§’åº¦
        let currentRotation = 0; // å½“å‰æ—‹è½¬è§’åº¦
        let isSpinning = false;

        // ç»˜åˆ¶è½¬ç›˜å‡½æ•°
        function drawWheel() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = canvas.width / 2;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            for (let i = 0; i < num; i++) {
                const angle = i * arc;
                
                // ç»˜åˆ¶æ‰‡å½¢
                ctx.beginPath();
                ctx.fillStyle = colors[i % colors.length];
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, angle, angle + arc);
                ctx.lineTo(centerX, centerY);
                ctx.fill();

                // ç»˜åˆ¶æ–‡å­—
                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(angle + arc / 2);
                ctx.textAlign = "right";
                ctx.fillStyle = "#fff";
                ctx.font = "bold 24px Microsoft YaHei"; // å­—ä½“å¤§å°é€‚é…
                
                // ç”±äºé€‰é¡¹è¾ƒå¤šï¼Œåªæ˜¾ç¤ºå‰å‡ ä¸ªå­—ï¼Œæˆ–è€…ç¼©å°å­—ä½“
                let text = list[i];
                if (text.length > 6) {
                    text = text.substring(0, 6) + "..";
                }
                
                ctx.fillText(text, radius - 40, 10); // è·ç¦»è¾¹ç¼˜çš„è·ç¦»
                ctx.restore();
            }
        }

        drawWheel();

        // 4. æ—‹è½¬é€»è¾‘
        function startSpin() {
            if (isSpinning) return;
            isSpinning = true;

            // è®¡ç®—éšæœºåœˆæ•° (5-10åœˆ) + éšæœºè§’åº¦
            const randomSpins = Math.floor(Math.random() * 5) + 5; 
            const randomDegree = Math.floor(Math.random() * 360);
            
            // ç›®æ ‡è§’åº¦ (åŠ ä¸Šä¹‹å‰çš„è§’åº¦ï¼Œä¿è¯æ¥ç€è½¬)
            const targetRotation = currentRotation + (randomSpins * 360) + randomDegree;
            
            // è®¾ç½® CSS æ—‹è½¬
            canvas.style.transform = `rotate(${targetRotation}deg)`;
            
            // è®°å½•å½“å‰è§’åº¦ä¾›ä¸‹æ¬¡ä½¿ç”¨
            currentRotation = targetRotation;

            // ç­‰å¾…åŠ¨ç”»ç»“æŸåæ˜¾ç¤ºç»“æœ (4ç§’)
            setTimeout(() => {
                isSpinning = false;
                showResult(targetRotation);
            }, 4000);
        }

        // 5. è®¡ç®—ç»“æœ
        function showResult(rotation) {
            // è§„èŒƒåŒ–è§’åº¦åˆ° 0-360
            const actualRotation = rotation % 360;
            
            // Canvas çš„ 0 åº¦é€šå¸¸åœ¨ 3 ç‚¹é’Ÿæ–¹å‘ã€‚
            // æˆ‘ä»¬çš„æŒ‡é’ˆåœ¨ 12 ç‚¹é’Ÿæ–¹å‘ (-90åº¦)ã€‚
            // æ—‹è½¬æ˜¯é¡ºæ—¶é’ˆã€‚
            // è®¡ç®—æŒ‡é’ˆæŒ‡å‘çš„ç´¢å¼•ã€‚
            
            // ä¿®æ­£è§’åº¦ä½“ç³»
            let degrees = 360 - actualRotation + 90; 
            if (degrees >= 360) degrees -= 360;
            
            const index = Math.floor(degrees / (360 / num));
            
            const winner = list[index];
            
            // æ˜¾ç¤ºå¼¹çª—
            document.getElementById('winnerText').innerText = winner;
            document.getElementById('resultModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('resultModal').style.display = 'none';
        }

        // 6. ç”ŸæˆåŠ¨æ€è‰ºæœ¯å­—èƒŒæ™¯
        function createBackground() {
            const container = document.getElementById('bg-container');
            const width = window.innerWidth;
            const height = window.innerHeight;

            // æ”¾ç½®50ä¸ªéšæœºæ–‡å­—
            for (let i = 0; i < 50; i++) {
                const span = document.createElement('span');
                span.classList.add('art-text');
                // éšæœºå–å
                span.innerText = list[Math.floor(Math.random() * list.length)];
                
                // éšæœºæ ·å¼
                const size = Math.floor(Math.random() * 30) + 14; // å­—ä½“å¤§å° 14-44px
                const left = Math.floor(Math.random() * width);
                const top = Math.floor(Math.random() * height);
                const rot = Math.floor(Math.random() * 90) - 45;
                const color = colors[Math.floor(Math.random() * colors.length)];

                span.style.fontSize = size + 'px';
                span.style.left = left + 'px';
                span.style.top = top + 'px';
                span.style.transform = `rotate(${rot}deg)`;
                span.style.color = color;
                
                // éšæœºåŠ¨ç”»å»¶è¿Ÿ
                span.style.animationDuration = (Math.random() * 10 + 15) + 's';
                span.style.animationDelay = (Math.random() * 5) + 's';

                container.appendChild(span);
            }
        }

        // åˆå§‹åŒ–èƒŒæ™¯
        createBackground();

        // çª—å£å¤§å°æ”¹å˜æ—¶é‡ç»˜èƒŒæ™¯ï¼ˆå¯é€‰ï¼‰
        window.onresize = () => {
            // ç®€å•å¤„ç†ï¼šä¸é‡ç»˜è½¬ç›˜ä»¥å…åŠ¨ç”»é”™ä½ï¼Œåªæ¸…ç©ºèƒŒæ™¯é‡æ–°ç”Ÿæˆ
            // document.getElementById('bg-container').innerHTML = '';
            // createBackground();
        };

    </script>
</body>
</html>